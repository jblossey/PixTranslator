os: linux
sudo: required
dist: xenial
services: docker
language: generic
before_install:
- apt-get install openjdk-11-jdk maven
cache:
  directories:
    - node_modules
    - $HOME/.cache/electron
    - $HOME/.cache/electron-builder
script: ./build.sh
before_cache:
  - rm -rf $HOME/.cache/electron-builder/wine
branches:
  only:
      - /.*/